<ContentPage
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  x:Class="SET09102_Coursework.Views.TicketDetailsPage"
  Title="Ticket Details">
  
  <VerticalStackLayout Padding="20" Spacing="10">
    <Label Text="Sensor:" FontAttributes="Bold" />
    <Label Text="{Binding Ticket.Sensor.Name}" />

    <Label Text="Current Status:" FontAttributes="Bold"/>
    <Label Text="{Binding Ticket.Status.StatusName}" />

    <Label Text="Created At:" FontAttributes="Bold" />
    <Label Text="{Binding Ticket.CreatedAt, StringFormat='{}{0:yyyy-MM-dd HH:mm}'}" />

    <Label Text="Issue:" FontAttributes="Bold" />
    <Label Text="{Binding Ticket.IssueDescription}" />

  <!-- Update Status -->
    <Label Text="Change Status:" FontAttributes="Bold"/>
    <Picker
      ItemsSource="{Binding Statuses}"
      ItemDisplayBinding="{Binding StatusName}"
      SelectedItem="{Binding SelectedStatus}" />

    <Button
      Text="Update Status"
      Command="{Binding UpdateStatusCommand}"
      HorizontalOptions="Center"
      Margin="0,10" />
  </VerticalStackLayout>
</ContentPage>
