<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodels="clr-namespace:SET09102_Coursework.ViewModels"
    x:Class="SET09102_Coursework.Views.AddSensorPage"
    Title="Add New Sensor">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <!-- Name -->
            <Entry Placeholder="Sensor Name"
                   Text="{Binding Name}" />

            <!-- Sensor Type Dropdown -->
            <Picker Title="Select Sensor Type"
                    ItemsSource="{Binding SensorTypes}"
                    ItemDisplayBinding="{Binding Name}"
                    SelectedItem="{Binding SelectedSensorType}" />

            <!-- Firmware Version -->
            <Entry Placeholder="Firmware Version"
            Text="{Binding FirmwareVersion}" />

            <!-- Latitude -->
            <Entry Placeholder="Enter Latitude (between -90 and 90)"
                   Keyboard="Numeric"
                   Text="{Binding LatitudeInput}" />

            <!-- Longitude -->
            <Entry Placeholder="Enter Longitude (between -90 and 90)"
                   Keyboard="Numeric"
                   Text="{Binding LongitudeInput}" />

            <!-- IsActive toggle -->
            <Switch IsToggled="{Binding IsActive}" />
            <Label Text="Sensor is Active" />

            <!-- Error Message -->
            <Label Text="{Binding ErrorMessage}"
                   TextColor="Red"
                   FontAttributes="Bold"
                   IsVisible="{Binding HasError}" />

            <!-- SAve & Cancel Buttons -->
            <HorizontalStackLayout Spacing="10">
                <Button Text="Save"
                        Command="{Binding SaveSensorCommand}" />
                <Button Text="Cancel"
                        Command="{Binding CancelCommand}"
                        BackgroundColor="LightGray"
                        TextColor="Black"/>
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
